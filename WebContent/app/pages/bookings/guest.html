<!doctype html>
<html>
<head>

   <meta charset='utf-8'>
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <script src="js/master.js" type="text/javascript"></script>
   <link rel="stylesheet" href="css/master.css">
  
   <title>Home</title>
   <script>
   		if(user===null || user === "" || user.trim() === "" || user.toUpperCase() ==="FALSE"){
   			home();
   		}
   		else{
   			removeSessionAttribute("user");
   		}
   </script>
</head>
	<script>
			function submitGuestForm(){
				loading();
				var fieldNames = ["email","mobile"];
				var fieldValues = [$("#email").val(),$("#mobile").val()];
				
				var args = [{"List":fieldNames},{"List":fieldValues}];
				var result = call("Register","registerGuest",args);

				if(result[0].returnValue === "true"){
					setSessionAttribute("user","Guest");
					setSessionAttribute("email",$("#email").val());
					setSessionAttribute("mobile",$("#mobile").val());
					return true;
				}
				else{
					alert("Something is not right here!\nIt must be the case that we are already working on it.\nSorry for the inconvenience caused. Please try again after sometime.");
					window.open("../","_self");
				}
				loadingStop();
			}
	</script>

<!-- blank container -->
	<div class="container"></div>
<!-- //blank container -->

<body>
<!-- Registration -->
	
	<!-- Section Header -->
		<div class="section-header">Continue as Guest</div>
	<!-- //Section Header -->
	
	<!-- Separator -->
		<div class="separator-blank-big"></div>
	<!-- //Separator -->
	
	<!-- Registration form-->
		<div id='guest'>
		<div class="container">
			<div class="twelve columns">
				<form id='register-form' action="../Book/" method="post" onsubmit="return submitGuestForm();">
		 			
		 			<div class="row">
					    <div class="six columns offset-by-three">
					      <label for="email">Email *</label>
					      <input class="u-full-width" type="email" value="" id="email" name="email" required />
					    </div>
		 			</div>
		 			
		 			<div class="row">
					    <div class="six columns offset-by-three">
					      <label for="mobile">Mobile *</label>
					      <input class="u-full-width" type="text" value="" id="mobile" name="mobile" pattern="[789][0-9]{9}" required />
					    </div>
		 			</div>
		 			
		 			<div class="row">
		 				<div class="six columns offset-by-three">
					      <input class="hvr-wobble-bottom button button-primary" type="submit" name="submit" id="submit" value="Proceed to Booking" />
		 				</div>
		 			</div>
				</form>
			</div>
		</div>
	</div>

	<!-- //Registration Form -->

	<!-- Separator -->
		<div class="separator-blank-big"></div>
	<!-- //Separator -->
	
	<!-- Separator -->
		<div class="separator-blank-big"></div>
	<!-- //Separator -->
	
	<!-- Separator -->
		<div class="separator-blank-big"></div>
	<!-- //Separator -->
	
<!-- //Registration -->	

<!-- blank container -->
	<div class="container"></div>
<!-- //blank container -->


<!-- Separator -->
	<div class='separator'></div>
<!-- //Separator -->
</body>
</html>